<a href='Hidden comment: 
THIS PAGE IS AUTOGENERATED. DO NOT EDIT.
To update this page run tools/uploadopts2wiki.py
'></a>

# upload.py Usage #

[upload.py](http://codereview.appspot.com/static/upload.py) is a tool
for uploading diffs from a version control system to the codereview app.

**Usage summary:**

`upload.py [options] [-- diff_options]`

Diff options are passed to the diff command of the underlying system.

**Supported version control systems:**
  * Git
  * Mercurial
  * Subversion
  * Perforce

It is important for Git/Mercurial users to specify a tree/node/branch to diff
against by using the '--rev' option.


## Options ##
<dl>
<dt><code>-h, --help</code></dt>
<dd>Show this help message and exit.</dd>
<dt><code>-y, --assume_yes</code></dt>
<dd>Assume that the answer to yes/no questions is 'yes'.</dd>


</dl>
#### Logging options ####
<dl>
<dt><code>-q, --quiet</code></dt>
<dd>Print errors only.</dd>
<dt><code>-v, --verbose</code></dt>
<dd>Print info level logs.</dd>
<dt><code>--noisy</code></dt>
<dd>Print all logs.</dd>
<dt><code>--print_diffs</code></dt>
<dd>Print full diffs.</dd>


</dl>
#### Review server options ####
<dl>
<dt><code>-s SERVER, --server=SERVER</code></dt>
<dd>The server to upload to. The format is host[:port]. Defaults to '%default'.</dd>
<dt><code>-e EMAIL, --email=EMAIL</code></dt>
<dd>The username to use. Will prompt if omitted.</dd>
<dt><code>-H HOST, --host=HOST</code></dt>
<dd>Overrides the Host header sent with all RPCs.</dd>
<dt><code>--no_cookies</code></dt>
<dd>Do not save authentication cookies to local disk.</dd>
<dt><code>--account_type=TYPE</code></dt>
<dd>Override the default account type (defaults to '%default', valid choices are 'GOOGLE' and 'HOSTED').</dd>


</dl>
#### Issue options ####
<dl>
<dt><code>-t TITLE, --title=TITLE</code></dt>
<dd>New issue subject or new patch set title</dd>
<dt><code>-m MESSAGE, --message=MESSAGE</code></dt>
<dd>New issue description or new patch set message</dd>
<dt><code>-F FILE, --file=FILE</code></dt>
<dd>Read the message above from file.</dd>
<dt><code>-r REVIEWERS, --reviewers=REVIEWERS</code></dt>
<dd>Add reviewers (comma separated email addresses).</dd>
<dt><code>--cc=CC</code></dt>
<dd>Add CC (comma separated email addresses).</dd>
<dt><code>--private</code></dt>
<dd>Make the issue restricted to reviewers and those CCed</dd>


</dl>
#### Patch options ####
<dl>
<dt><code>-i ISSUE, --issue=ISSUE</code></dt>
<dd>Issue number to which to add. Defaults to new issue.</dd>
<dt><code>--base_url=BASE_URL</code></dt>
<dd>Base URL path for files (listed as "Base URL" when viewing issue).  If omitted, will be guessed automatically for SVN repos and left blank for others.</dd>
<dt><code>--download_base</code></dt>
<dd>Base files will be downloaded by the server (side-by-side diffs may not work on files with CRs).</dd>
<dt><code>--rev=REV</code></dt>
<dd>Base revision/branch/tree to diff against. Use rev1:rev2 range to review already committed changeset.</dd>
<dt><code>--send_mail</code></dt>
<dd>Send notification email to reviewers.</dd>
<dt><code>-p, --send_patch</code></dt>
<dd>Same as --send_mail, but include diff as an attachment, and prepend email subject with 'PATCH:'.</dd>
<dt><code>--vcs=VCS</code></dt>
<dd>Version control system (optional, usually upload.py already guesses the right VCS).</dd>
<dt><code>--emulate_svn_auto_props</code></dt>
<dd>Emulate Subversion's auto properties feature.</dd>


</dl>
#### Perforce-specific options (overrides P4 environment variables) ####
<dl>
<dt><code>--p4_port=P4_PORT</code></dt>
<dd>Perforce server and port (optional)</dd>
<dt><code>--p4_changelist=P4_CHANGELIST</code></dt>
<dd>Perforce changelist id</dd>
<dt><code>--p4_client=P4_CLIENT</code></dt>
<dd>Perforce client/workspace</dd>
<dt><code>--p4_user=P4_USER</code></dt>
<dd>Perforce user</dd>

</dl>

#### Running upload.py from perforce GUIs ####

You can right click on a perforce changelist and create a new Rietveld code review by adding a custom tool with the following settings:

Application: python Arguments: /PATH/TO/upload.py -s MY\_SERVER --p4\_changelist %p --p4\_port $p --p4\_user $u --p4\_client $c Start In: empty. Check "Add to applicable context menus", "Run tool in terminal window" (or system equivalent), and "Ignore P4CONFIG files".

Replace /PATH/TO/ with the location of upload.py, and MY\_SERVER with the rietveld code review server. See screenshot [here](http://alexmccarthy.net/Rietveld%20-%20P4V%20Custom%20Tool%20Settings.png).
